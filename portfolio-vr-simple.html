<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio VR Simple - Jean Luc Hou√©danou</title>
    <meta name="description" content="Portfolio VR simplifi√© avec interface laser - Compatible tous appareils VR">
    
    <!-- A-Frame -->
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/supermedium/superframe@master/components/environment/dist/aframe-environment-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    
    <!-- Composants personnalis√©s -->
    <script src="portfolio-info-panel.js"></script>
    
    <style>
        body {
            margin: 0;
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #0593fc, #27CDFE);
            overflow: hidden;
        }
        
        /* Interface overlay */
        .vr-ui {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
        }
        
        .exit-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(5, 147, 252, 0.9);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            pointer-events: all;
            font-size: 14px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .exit-button:hover {
            background: rgba(5, 147, 252, 1);
            transform: translateY(-2px);
        }
        
        .help-text {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            pointer-events: all;
            text-align: center;
            backdrop-filter: blur(10px);
            font-size: 14px;
        }
        
        /* Loading */
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0593fc, #27CDFE);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            color: white;
            transition: opacity 1s ease;
        }
        
        .loading.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Loading screen -->
    <div id="loading" class="loading">
        <div class="spinner"></div>
        <h2>Chargement du Portfolio VR</h2>
        <p>Pr√©paration de l'exp√©rience simplifi√©e...</p>
    </div>
    
    <!-- Interface utilisateur -->
    <div class="vr-ui">
        <button id="exitButton" class="exit-button">‚Üê Retour Portfolio</button>
        <div class="help-text">
            Cliquez sur les cartes color√©es pour voir les informations ‚Ä¢ H pour aide
        </div>
    </div>

    <!-- Sc√®ne A-Frame -->
    <a-scene 
        id="scene"
        vr-mode-ui="enabled: true"
        device-orientation-permission-ui="enabled: true"
        background="color: #87CEEB"
        fog="type: exponential; density: 0.002; color: #87CEEB"
        renderer="antialias: true; colorManagement: true"
        loading-screen="dotsColor: white; backgroundColor: #0593fc">
        
        <!-- Assets -->
        <a-assets>
            <!-- Mat√©riaux -->
            <a-mixin id="card-material" 
                     material="metalness: 0.1; roughness: 0.3"></a-mixin>
            <a-mixin id="text-material" 
                     text="font: dejavu; align: center"></a-mixin>
        </a-assets>

        <!-- Environnement simple -->
        <a-entity environment="preset: forest; groundColor: #0593fc; grid: none; dressing: none; lighting: none"></a-entity>
        
        <!-- √âclairage -->
        <a-light type="ambient" color="#404040" intensity="0.6"></a-light>
        <a-light type="directional" position="2 8 4" color="#ffffff" intensity="0.8"></a-light>
        <a-light type="point" position="0 6 0" color="#0593fc" intensity="0.4"></a-light>

        <!-- Sol -->
        <a-plane position="0 0 0" rotation="-90 0 0" width="50" height="50" 
                 color="#E8F4FD" metalness="0.1" roughness="0.8" shadow="receive: true"></a-plane>

        <!-- Titre principal -->
        <a-text value="Portfolio VR - Jean Luc Hou√©danou" 
                position="0 6 -8" 
                align="center" 
                color="#0593fc" 
                scale="3 3 3"
                font="dejavu"></a-text>
        
        <a-text value="Directeur Solutions Digitales" 
                position="0 5 -8" 
                align="center" 
                color="#666666" 
                scale="2 2 2"
                font="dejavu"></a-text>

        <!-- Cartes de sections -->
        <!-- √Ä Propos -->
        <a-box id="aboutCard"
               position="-6 2 -5" 
               width="3" 
               height="4" 
               depth="0.3"
               color="#0593fc"
               class="interactive"
               portfolio-card="section: about; color: #0593fc; title: √Ä Propos"
               shadow="cast: true">
            <a-text value="√Ä PROPOS" 
                    position="0 1.2 0.16" 
                    align="center" 
                    color="#ffffff" 
                    scale="1.5 1.5 1.5"></a-text>
            <a-text value="üë§" 
                    position="0 0.2 0.16" 
                    align="center" 
                    scale="3 3 3"></a-text>
            <a-text value="Qui je suis" 
                    position="0 -1 0.16" 
                    align="center" 
                    color="#ffffff" 
                    scale="1.2 1.2 1.2"></a-text>
        </a-box>

        <!-- Exp√©rience -->
        <a-box id="experienceCard"
               position="-2 2 -5" 
               width="3" 
               height="4" 
               depth="0.3"
               color="#27CDFE"
               class="interactive"
               portfolio-card="section: experience; color: #27CDFE; title: Exp√©rience"
               shadow="cast: true">
            <a-text value="EXP√âRIENCE" 
                    position="0 1.2 0.16" 
                    align="center" 
                    color="#ffffff" 
                    scale="1.5 1.5 1.5"></a-text>
            <a-text value="üíº" 
                    position="0 0.2 0.16" 
                    align="center" 
                    scale="3 3 3"></a-text>
            <a-text value="12+ ans" 
                    position="0 -1 0.16" 
                    align="center" 
                    color="#ffffff" 
                    scale="1.2 1.2 1.2"></a-text>
        </a-box>

        <!-- Projets -->
        <a-box id="projectsCard"
               position="2 2 -5" 
               width="3" 
               height="4" 
               depth="0.3"
               color="#246CB7"
               class="interactive"
               portfolio-card="section: projects; color: #246CB7; title: Projets"
               shadow="cast: true">
            <a-text value="PROJETS" 
                    position="0 1.2 0.16" 
                    align="center" 
                    color="#ffffff" 
                    scale="1.5 1.5 1.5"></a-text>
            <a-text value="üöÄ" 
                    position="0 0.2 0.16" 
                    align="center" 
                    scale="3 3 3"></a-text>
            <a-text value="17+ r√©alisations" 
                    position="0 -1 0.16" 
                    align="center" 
                    color="#ffffff" 
                    scale="1.2 1.2 1.2"></a-text>
        </a-box>

        <!-- Contact -->
        <a-box id="contactCard"
               position="6 2 -5" 
               width="3" 
               height="4" 
               depth="0.3"
               color="#0593fc"
               class="interactive"
               portfolio-card="section: contact; color: #0593fc; title: Contact"
               shadow="cast: true">
            <a-text value="CONTACT" 
                    position="0 1.2 0.16" 
                    align="center" 
                    color="#ffffff" 
                    scale="1.5 1.5 1.5"></a-text>
            <a-text value="üìß" 
                    position="0 0.2 0.16" 
                    align="center" 
                    scale="3 3 3"></a-text>
            <a-text value="Parlons-en" 
                    position="0 -1 0.16" 
                    align="center" 
                    color="#ffffff" 
                    scale="1.2 1.2 1.2"></a-text>
        </a-box>

        <!-- Panel d'informations (cach√© par d√©faut) -->
        <a-entity id="infoPanel" 
                  position="0 3 -3" 
                  visible="false"
                  scale="0.001 0.001 0.001"
                  portfolio-info-panel="language: fr">
            
            <!-- Panneau principal -->
            <a-plane width="12" 
                     height="8" 
                     color="#ffffff" 
                     opacity="0.95"
                     material="side: double"
                     shadow="cast: true"></a-plane>
            
            <!-- Titre -->
            <a-text id="sectionTitle"
                    value="" 
                    position="0 3.2 0.01" 
                    align="center" 
                    color="#0593fc" 
                    scale="2.5 2.5 2.5"
                    wrap-count="30"></a-text>
            
            <!-- Sous-titre -->
            <a-text id="sectionSubtitle"
                    value="" 
                    position="0 2.4 0.01" 
                    align="center" 
                    color="#666666" 
                    scale="1.8 1.8 1.8"
                    wrap-count="40"></a-text>
            
            <!-- Contenu -->
            <a-text id="sectionContent"
                    value="" 
                    position="0 0.8 0.01" 
                    align="center" 
                    color="#333333" 
                    scale="1.3 1.3 1.3"
                    wrap-count="70"></a-text>
            
            <!-- Bouton fermer -->
            <a-box width="3" 
                   height="0.8" 
                   depth="0.2" 
                   position="0 -3.2 0.01" 
                   color="#ff4444"
                   class="interactive close-button">
                <a-text value="FERMER" 
                        position="0 0 0.11" 
                        align="center" 
                        color="#ffffff" 
                        scale="1.5 1.5 1.5"></a-text>
            </a-box>
        </a-entity>

        <!-- Cam√©ra avec contr√¥les -->
        <a-entity id="player" position="0 1.6 8">
            <a-camera 
                wasd-controls="acceleration: 65; fly: false" 
                look-controls="pointerLockEnabled: false"
                mouse-cursor=""
                raycaster="objects: .interactive; far: 30"
                cursor="fuse: false; rayOrigin: mouse">
                
                <!-- Curseur VR -->
                <a-cursor 
                    raycaster="objects: .interactive; far: 30"
                    material="color: #0593fc; shader: flat"
                    geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.02"
                    position="0 0 -1"
                    animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1 1 1; dur: 150">
                </a-cursor>
            </a-camera>
        </a-entity>

        <!-- Contr√¥leurs VR -->
        <a-entity id="leftHand" 
                  hand-controls="hand: left; handModelStyle: lowPoly; color: #0593fc"
                  raycaster="objects: .interactive; far: 10"
                  line="color: #0593fc; opacity: 0.75">
        </a-entity>
        
        <a-entity id="rightHand" 
                  hand-controls="hand: right; handModelStyle: lowPoly; color: #27CDFE"
                  raycaster="objects: .interactive; far: 10" 
                  line="color: #27CDFE; opacity: 0.75">
        </a-entity>
    </a-scene>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ü•Ω Portfolio VR Simple - Initialisation...');
            
            const loading = document.getElementById('loading');
            const scene = document.querySelector('a-scene');
            const exitButton = document.getElementById('exitButton');
            const infoPanel = document.getElementById('infoPanel');
            
            // Masquer le loading une fois la sc√®ne pr√™te
            scene.addEventListener('loaded', function() {
                console.log('‚úÖ Sc√®ne VR simple charg√©e');
                setTimeout(() => {
                    loading.classList.add('hidden');
                }, 800);
            });
            
            // Bouton retour
            exitButton.addEventListener('click', function() {
                console.log('üîô Retour portfolio classique');
                
                // Animation de transition
                scene.setAttribute('animation__exit', {
                    property: 'scale',
                    to: '0.1 0.1 0.1',
                    dur: 800,
                    easing: 'easeInBack'
                });
                
                setTimeout(() => {
                    const url = new URL(window.location);
                    url.pathname = url.pathname.replace('portfolio-vr-simple.html', 'index.html');
                    window.location.href = url.toString();
                }, 800);
            });
            
            // Bouton fermer du panel
            document.addEventListener('click', function(event) {
                if (event.target.closest('.close-button')) {
                    const infoPanel = document.getElementById('infoPanel');
                    if (infoPanel && infoPanel.components['portfolio-info-panel']) {
                        infoPanel.components['portfolio-info-panel'].hidePanel();
                    }
                }
            });
            
            // Gestion des touches
            document.addEventListener('keydown', function(event) {
                switch(event.key) {
                    case 'Escape':
                        if (infoPanel && infoPanel.components['portfolio-info-panel']) {
                            infoPanel.components['portfolio-info-panel'].hidePanel();
                        }
                        break;
                    case 'h':
                    case 'H':
                        showHelp();
                        break;
                }
            });
            
            // Configuration de la langue selon l'URL
            const urlParams = new URLSearchParams(window.location.search);
            const lang = urlParams.get('lang') || 'fr';
            
            // Mettre √† jour le composant info-panel
            if (infoPanel) {
                infoPanel.setAttribute('portfolio-info-panel', 'language', lang);
            }
            
            console.log('üöÄ Portfolio VR Simple pr√™t!');
        });

        function showHelp() {
            alert(`AIDE - Portfolio VR Simple

CONTR√îLES:
‚Ä¢ Clic gauche : S√©lectionner une carte
‚Ä¢ ESC : Fermer les panels
‚Ä¢ H : Cette aide
‚Ä¢ WASD : Se d√©placer
‚Ä¢ Souris : Regarder autour

NAVIGATION:
‚Ä¢ Cliquez sur les cartes color√©es pour voir les informations
‚Ä¢ Chaque carte repr√©sente une section du portfolio
‚Ä¢ Le panel d'information s'affiche avec les d√©tails`);
        }

        
        // Gestion des erreurs
        window.addEventListener('error', function(e) {
            console.warn('‚ö†Ô∏è Erreur VR Simple:', e.error);
        });

    </script>
</body>
</html>
